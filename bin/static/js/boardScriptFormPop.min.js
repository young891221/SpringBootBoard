function uploadFile(){$.ajax({url:"/uploadFile",type:"POST",data:new FormData($("#upload-file-form")[0]),enctype:"multipart/form-data",processData:!1,contentType:!1,cache:!1,success:function(a){board_image=a.filename,$("#getImage").attr("src",a.resultPath)},error:function(){alert("이미지 업로드 오류!")}})}function fileCheck(){var a=$("input[type=file]").val(),b=a.lastIndexOf(".")+1,c=a.lastIndexOf("\\")+1,d=a.substr(b,a.length).toLowerCase();if(fileNameCheck=a.substring(c,a.length).toLowerCase(),checkFileType=!1,0!=fileNameCheck.length){if("gif"!==d&&"jpg"!==d&&"png"!==d)return $("#uploadFile").val(""),void alert("jpg / png / gif 파일만 올릴수 있습니다.");for(checkFileType=!0,i=0;i<fileNameCheck.length;i++){var e=fileNameCheck.charCodeAt(i);if(e>128)return void alert("선택한 이미지 : ["+fileNameCheck+"]\n파일명이 한글로 된 이미지 첨부 불가")}uploadFile()}}var fileNameCheck,checkFileType;$(document).ready(function(){var a;a=opener.board_image,null!=a&&$("#getImage").attr("src","/resources/imageFile/"+a),$("#upload-file-input").on("change",fileCheck),$("#complete").on("click",function(){console.log("fileNameCheck = "+fileNameCheck),console.log("checkFileType = "+checkFileType),null===fileNameCheck&checkFileType===!0&&($("div span",opener.document).text(null),opener.setChildValue(null)),$("div span",opener.document).text(fileNameCheck),opener.setChildValue(fileNameCheck),window.open("about:blank","_self").close()})});